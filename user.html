<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Fresh Direct - ê±°ë˜ì²˜ ì „ìš©ëª°</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@400;700;900&display=swap');
        body { font-family: 'Pretendard', sans-serif; background-color: #f8fafc; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .modal-bg { background-color: rgba(0, 0, 0, 0.6); backdrop-filter: blur(4px); }
        .active-category { background-color: #16a34a !important; color: white !important; }
        .product-img { object-fit: cover; width: 100%; height: 100%; transition: transform 0.4s ease; }
        .group:hover .product-img { transform: scale(1.08); }
        .option-selected { border-color: #16a34a !important; background-color: #f0fdf4; color: #16a34a; }
    </style>
</head>
<body class="pb-24">

    <!-- ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
    <nav class="bg-white/80 backdrop-blur-md px-4 md:px-8 py-4 flex justify-between items-center sticky top-0 z-50 shadow-sm border-b border-slate-100">
        <div class="flex items-center gap-2 cursor-pointer" onclick="renderProducts('ì „ì²´')">
            <div class="w-9 h-9 bg-green-600 rounded-xl flex items-center justify-center text-white font-black text-xl shadow-lg shadow-green-100">F</div>
            <span class="font-black text-xl tracking-tight text-slate-800">Fresh<span class="text-green-600">Direct</span></span>
        </div>
        
        <div class="flex items-center gap-3">
            <div class="relative hidden md:block">
                <input type="text" id="searchInput" oninput="handleSearch()" placeholder="ìƒí’ˆëª… ë˜ëŠ” ê±°ë˜ì²˜ ê²€ìƒ‰" class="bg-slate-100 border-none rounded-full px-4 py-2 text-xs w-64 focus:ring-2 focus:ring-green-500 transition-all outline-none">
            </div>
            <button class="text-xs font-bold text-slate-500">ë¡œê·¸ì¸</button>
            <button onclick="openSignupModal()" class="text-xs font-black bg-slate-800 text-white px-4 py-2 rounded-full hover:bg-slate-700 transition-all shadow-md">íšŒì›ê°€ì…</button>
        </div>
    </nav>

    <!-- ë©”ì¸ ì»¨í…ì¸  -->
    <main class="max-w-6xl mx-auto px-4">
        
        <!-- í”„ë¡œëª¨ì…˜ ë°°ë„ˆ -->
        <section id="hero-banner" class="mt-6">
            <div class="bg-gradient-to-br from-green-600 to-emerald-800 rounded-[32px] p-8 text-white relative overflow-hidden shadow-2xl shadow-green-100">
                <div class="relative z-10">
                    <span class="bg-white/20 backdrop-blur-sm text-[10px] font-black px-3 py-1 rounded-full uppercase tracking-widest mb-4 inline-block border border-white/20">Real-time Inventory</span>
                    <h2 class="text-3xl md:text-4xl font-black leading-tight mb-4">
                        ì‚°ì§€ ì§ì†¡ ìƒí’ˆ<br>
                        ì˜µì…˜ë³„ ì‹¤ì‹œê°„ ë‹¨ê°€ ì ìš©
                    </h2>
                    <p class="text-white/80 text-sm font-medium mb-6">ì‹œíŠ¸ ë°ì´í„° ê¸°ë°˜ 20% ë§ˆì§„ì´ ì ìš©ëœ ê³µê¸‰ê°€ì…ë‹ˆë‹¤.</p>
                </div>
                <div class="absolute -right-10 -bottom-10 text-[180px] font-black opacity-10 italic select-none">FRESH</div>
            </div>
        </section>

        <!-- ì¹´í…Œê³ ë¦¬ í€µ ë©”ë‰´ -->
        <section class="mt-10 overflow-x-auto no-scrollbar py-2">
            <div id="category-list" class="flex gap-4 min-w-max">
                <!-- JS ë Œë”ë§ -->
            </div>
        </section>

        <!-- ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ ì„¹ì…˜ -->
        <section class="mt-12">
            <div class="flex justify-between items-end mb-6">
                <div>
                    <span id="category-label" class="text-green-600 font-black text-[10px] tracking-widest uppercase mb-1 block">ALL PRODUCTS</span>
                    <h3 id="current-category-name" class="text-2xl font-black text-slate-800 tracking-tight">ì „ì²´ ìƒí’ˆ</h3>
                </div>
                <div class="text-xs font-bold text-slate-400">ì´ <span id="product-count" class="text-green-600">0</span>ê°œ í’ˆëª©</div>
            </div>
            
            <div id="product-grid" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4">
                <!-- JS ë Œë”ë§ -->
            </div>
        </section>
    </main>

    <!-- ìƒí’ˆ ìƒì„¸ ì˜µì…˜ ëª¨ë‹¬ -->
    <div id="productModal" class="fixed inset-0 z-[110] hidden flex items-center justify-center p-4 modal-bg">
        <div class="bg-white w-full max-w-lg rounded-[32px] overflow-hidden shadow-2xl animate-in zoom-in duration-200">
            <div class="relative h-64 bg-slate-100">
                <img id="modalImg" src="" class="w-full h-full object-cover">
                <button onclick="closeProductModal()" class="absolute top-4 right-4 bg-white/50 backdrop-blur-md w-10 h-10 rounded-full flex items-center justify-center text-slate-800 font-bold">âœ•</button>
            </div>
            <div class="p-8">
                <div class="mb-6">
                    <span id="modalPartner" class="text-[10px] font-black bg-slate-100 px-2 py-1 rounded text-slate-500 mb-2 inline-block uppercase">ê±°ë˜ì²˜</span>
                    <h3 id="modalTitle" class="text-2xl font-black text-slate-800 tracking-tight">ìƒí’ˆëª…</h3>
                </div>
                
                <div class="mb-6">
                    <p class="text-xs font-bold text-slate-400 mb-3">ì˜µì…˜ ì„ íƒ (ì¤‘ëŸ‰/ê·œê²©)</p>
                    <div id="modalOptions" class="grid grid-cols-2 gap-2">
                        <!-- ì˜µì…˜ ë²„íŠ¼ë“¤ ë Œë”ë§ -->
                    </div>
                </div>

                <div class="flex justify-between items-center pt-6 border-t border-slate-100">
                    <div>
                        <p class="text-[10px] text-slate-400 font-bold uppercase">ìµœì¢… ê³µê¸‰ê°€</p>
                        <p id="modalPrice" class="text-2xl font-black text-green-600">0ì›</p>
                    </div>
                    <button class="bg-slate-900 text-white px-8 py-4 rounded-2xl font-black shadow-lg hover:bg-green-600 transition-all">ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°</button>
                </div>
            </div>
        </div>
    </div>

    <!-- íšŒì›ê°€ì… ëª¨ë‹¬ -->
    <div id="signupModal" class="fixed inset-0 z-[120] hidden flex items-center justify-center p-4 modal-bg">
        <div class="bg-white w-full max-w-md rounded-[32px] p-8">
            <h3 class="text-2xl font-black mb-6">íšŒì›ê°€ì…</h3>
            <div class="space-y-4">
                <input type="text" placeholder="ìƒí˜¸ëª…" class="w-full bg-slate-50 border px-4 py-3 rounded-xl outline-none">
                <button class="w-full bg-green-600 text-white py-4 rounded-2xl font-black shadow-lg">ê°€ì…í•˜ê¸°</button>
                <button onclick="closeSignupModal()" class="w-full text-slate-400 text-sm font-bold">ë‹«ê¸°</button>
            </div>
        </div>
    </div>

    <script>
        // ê°€ê²© ê³„ì‚° í•¨ìˆ˜: ë§ˆì§„ 20% ì ìš© + ë°±ì› ë‹¨ìœ„ ì ˆì‚­
        function calculatePrice(basePrice) {
            return Math.floor((basePrice * 1.2) / 100) * 100;
        }

        // [ìƒí’ˆ ë°ì´í„° ë² ì´ìŠ¤]
        const products = [
            {
                id: 1,
                category: 'ê³¼ì¼ë¥˜',
                name: 'ì¹ ë ˆì‚° ì²´ë¦¬',
                image: 'https://images.unsplash.com/photo-1528821128474-27f963b067bf?auto=format&fit=crop&q=80&w=400',
                partner: 'ê·¸ë¦°ì»´í¼ë‹ˆ',
                options: [
                    { label: '10R 300g', basePrice: 8000 },
                    { label: '10R 500g', basePrice: 12000 },
                    { label: '10R 1kg', basePrice: 22000 },
                    { label: '10R 2kg', basePrice: 42000 },
                    { label: '10R 5kg', basePrice: 98000 },
                    { label: '9.5R íŠ¹ 500g', basePrice: 15000 },
                    { label: '9.5R íŠ¹ 1kg', basePrice: 28000 }
                ]
            },
            {
                id: 2,
                category: 'ê³¼ì¼ë¥˜',
                name: 'ì˜ì•” ë¬´í™”ê³¼',
                image: 'https://images.unsplash.com/photo-1596435308233-0b0c26563604?auto=format&fit=crop&q=80&w=400',
                partner: 'ë†í˜‘ì²­ê³¼',
                options: [
                    { label: '1kg (4-6ê³¼)', basePrice: 12000 },
                    { label: '2kg (8-12ê³¼)', basePrice: 22000 }
                ]
            },
            {
                id: 3,
                category: 'ì±„ì†Œë¥˜',
                name: 'ê¹ë§ˆëŠ˜ (êµ­ì‚°)',
                image: 'https://images.unsplash.com/photo-1540148426945-6cf22a6b2383?auto=format&fit=crop&q=80&w=400',
                partner: 'í”„ë ˆì‹œíŒœ',
                options: [
                    { label: '500g ë´‰ì§€', basePrice: 4500 },
                    { label: '1kg ë´‰ì§€', basePrice: 8500 },
                    { label: '5kg ëŒ€ìš©ëŸ‰', basePrice: 38000 }
                ]
            },
            {
                id: 4,
                category: 'ì¶•ì‚°ë¬¼',
                name: 'í•œìš° ì±„ëì‚´',
                image: 'https://images.unsplash.com/photo-1546248136-3d215ecb26d1?auto=format&fit=crop&q=80&w=400',
                partner: 'ëª¨í‹°ìŠ¤ì¶•ì‚°',
                options: [
                    { label: '200g (ìŠ¤í…Œì´í¬ìš©)', basePrice: 32000 },
                    { label: '400g (êµ¬ì´ìš©)', basePrice: 62000 }
                ]
            },
            {
                id: 5,
                category: 'ê³¼ì¼ë¥˜',
                name: 'ì²­ì†¡ ì‚¬ê³¼(ë¶€ì‚¬)',
                image: 'https://images.unsplash.com/photo-1567306226416-28f0efdc88ce?auto=format&fit=crop&q=80&w=400',
                partner: 'ê·¸ë¦°ì»´í¼ë‹ˆ',
                options: [
                    { label: '5kg (13-15ê³¼)', basePrice: 45000 },
                    { label: '10kg (26-30ê³¼)', basePrice: 82000 }
                ]
            },
            {
                id: 6,
                category: 'ë†ìˆ˜ì‚°ë¬¼',
                name: 'ì™„ë„ í™œ ì „ë³µ',
                image: 'https://images.unsplash.com/photo-1621263764200-e1444c542c3d?auto=format&fit=crop&q=80&w=400',
                partner: 'ë°”ë‹¤ìœ í†µ',
                options: [
                    { label: '1kg (15-20ë¯¸)', basePrice: 35000 },
                    { label: '1kg (10-12ë¯¸)', basePrice: 48000 }
                ]
            }
        ];

        const categories = ['ì „ì²´', 'ê³¼ì¼ë¥˜', 'ì±„ì†Œë¥˜', 'ì¶•ì‚°ë¬¼', 'ë†ìˆ˜ì‚°ë¬¼', 'ê°€ê³µì‹í’ˆ'];
        let currentCategory = 'ì „ì²´';
        let searchQuery = '';
        let selectedProduct = null;
        let selectedOptionIndex = 0;

        function getEmoji(cat) {
            const icons = { 'ì „ì²´': 'ğŸ“¦', 'ê³¼ì¼ë¥˜': 'ğŸ', 'ì±„ì†Œë¥˜': 'ğŸ¥¬', 'ì¶•ì‚°ë¬¼': 'ğŸ¥©', 'ë†ìˆ˜ì‚°ë¬¼': 'ğŸŸ', 'ê°€ê³µì‹í’ˆ': 'ğŸ¥«' };
            return icons[cat] || 'ğŸ“';
        }

        function renderCategories() {
            const list = document.getElementById('category-list');
            list.innerHTML = categories.map(cat => `
                <div onclick="renderProducts('${cat}')" class="category-item flex flex-col items-center gap-2 group cursor-pointer">
                    <div class="w-16 h-16 ${cat === currentCategory ? 'active-category' : 'bg-white'} rounded-2xl flex items-center justify-center text-2xl shadow-sm border border-slate-100 group-hover:bg-green-50 transition-all">
                        ${getEmoji(cat)}
                    </div>
                    <span class="text-[11px] font-bold ${cat === currentCategory ? 'text-green-600' : 'text-slate-600'}">${cat}</span>
                </div>
            `).join('');
        }

        function handleSearch() {
            searchQuery = document.getElementById('searchInput').value.toLowerCase();
            renderProducts(currentCategory);
        }

        function renderProducts(category) {
            currentCategory = category;
            renderCategories();

            const grid = document.getElementById('product-grid');
            const countDisplay = document.getElementById('product-count');
            const title = document.getElementById('current-category-name');
            const label = document.getElementById('category-label');

            let filtered = products.filter(p => {
                const matchCategory = category === 'ì „ì²´' || p.category === category;
                const matchSearch = p.name.toLowerCase().includes(searchQuery) || p.partner.includes(searchQuery);
                return matchCategory && matchSearch;
            });

            countDisplay.innerText = filtered.length;
            title.innerText = searchQuery ? `'${searchQuery}' ê²€ìƒ‰ ê²°ê³¼` : (category === 'ì „ì²´' ? 'ì „ì²´ ìƒí’ˆ' : category);
            label.innerText = category.toUpperCase();

            grid.innerHTML = filtered.map(p => {
                const minPrice = calculatePrice(p.options[0].basePrice);
                return `
                    <div onclick="openProductModal(${p.id})" class="bg-white rounded-[24px] overflow-hidden border border-slate-100 shadow-sm hover:shadow-xl transition-all group flex flex-col cursor-pointer">
                        <div class="relative w-full aspect-square bg-slate-100 overflow-hidden">
                            <img src="${p.image}" alt="${p.name}" class="product-img" onerror="this.src='https://via.placeholder.com/400x400?text=No+Image'">
                            <div class="absolute top-3 left-3 bg-white/90 backdrop-blur-sm px-2 py-1 rounded-lg text-[10px] font-black text-slate-800 shadow-sm">${p.partner}</div>
                        </div>
                        <div class="p-4 flex flex-col flex-1">
                            <h5 class="font-bold text-slate-800 text-sm mb-1">${p.name}</h5>
                            <p class="text-[10px] text-slate-400 font-bold mb-3">${p.options.length}ê°œì˜ ê·œê²©/ì¤‘ëŸ‰ ì„ íƒ</p>
                            <div class="mt-auto flex justify-between items-center">
                                <p class="text-green-600 font-black text-base">${minPrice.toLocaleString()}ì›~</p>
                                <div class="w-8 h-8 bg-slate-50 text-slate-400 rounded-full flex items-center justify-center group-hover:bg-green-600 group-hover:text-white transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" /></svg>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
            
            document.getElementById('hero-banner').style.display = (category === 'ì „ì²´' && !searchQuery) ? 'block' : 'none';
        }

        function openProductModal(id) {
            selectedProduct = products.find(p => p.id === id);
            selectedOptionIndex = 0;
            
            document.getElementById('modalImg').src = selectedProduct.image;
            document.getElementById('modalTitle').innerText = selectedProduct.name;
            document.getElementById('modalPartner').innerText = selectedProduct.partner;
            
            renderOptions();
            updateModalPrice();
            
            document.getElementById('productModal').classList.remove('hidden');
        }

        function renderOptions() {
            const container = document.getElementById('modalOptions');
            container.innerHTML = selectedProduct.options.map((opt, idx) => `
                <button onclick="selectOption(${idx})" class="text-xs font-bold py-3 px-2 border-2 rounded-xl transition-all ${idx === selectedOptionIndex ? 'option-selected' : 'border-slate-100 text-slate-500 hover:border-slate-300'}">
                    ${opt.label}
                </button>
            `).join('');
        }

        function selectOption(idx) {
            selectedOptionIndex = idx;
            renderOptions();
            updateModalPrice();
        }

        function updateModalPrice() {
            const base = selectedProduct.options[selectedOptionIndex].basePrice;
            const finalPrice = calculatePrice(base);
            document.getElementById('modalPrice').innerText = finalPrice.toLocaleString() + 'ì›';
        }

        function closeProductModal() {
            document.getElementById('productModal').classList.add('hidden');
        }

        function openSignupModal() { document.getElementById('signupModal').classList.remove('hidden'); }
        function closeSignupModal() { document.getElementById('signupModal').classList.add('hidden'); }

        window.onload = () => renderProducts('ì „ì²´');
    </script>
</body>
</html>