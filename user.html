<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Fresh Direct - ê±°ë˜ì²˜ ì „ìš©ëª°</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@400;700;900&display=swap');
        body { font-family: 'Pretendard', sans-serif; background-color: #f8fafc; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .modal-bg { background-color: rgba(0, 0, 0, 0.6); backdrop-filter: blur(4px); }
        .active-category { background-color: #16a34a !important; color: white !important; }
        .product-img { object-fit: cover; width: 100%; height: 100%; transition: transform 0.4s ease; }
        .group:hover .product-img { transform: scale(1.08); }
        .option-selected { border-color: #16a34a !important; background-color: #f0fdf4; color: #16a34a; }
    </style>
</head>
<body class="pb-24">

    <!-- ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
    <nav class="bg-white/80 backdrop-blur-md px-4 md:px-8 py-4 flex justify-between items-center sticky top-0 z-50 shadow-sm border-b border-slate-100">
        <div class="flex items-center gap-2 cursor-pointer" onclick="renderProducts('ì „ì²´')">
            <div class="w-9 h-9 bg-green-600 rounded-xl flex items-center justify-center text-white font-black text-xl shadow-lg shadow-green-100">F</div>
            <span class="font-black text-xl tracking-tight text-slate-800">Fresh<span class="text-green-600">Direct</span></span>
        </div>
        
        <div class="flex items-center gap-3">
            <div class="relative hidden md:block">
                <input type="text" id="searchInput" oninput="handleSearch()" placeholder="ìƒí’ˆëª… ë˜ëŠ” ê±°ë˜ì²˜(ê·¸ë¦°ì»´í¼ë‹ˆ/ëª¨í‹°ìŠ¤í…œ) ê²€ìƒ‰" class="bg-slate-100 border-none rounded-full px-4 py-2 text-xs w-64 focus:ring-2 focus:ring-green-500 transition-all outline-none">
            </div>
            <button class="text-xs font-bold text-slate-500">ë¡œê·¸ì¸</button>
            <button onclick="openSignupModal()" class="text-xs font-black bg-slate-800 text-white px-4 py-2 rounded-full hover:bg-slate-700 transition-all shadow-md">íšŒì›ê°€ì…</button>
        </div>
    </nav>

    <!-- ë©”ì¸ ì»¨í…ì¸  -->
    <main class="max-w-6xl mx-auto px-4">
        
        <!-- í”„ë¡œëª¨ì…˜ ë°°ë„ˆ -->
        <section id="hero-banner" class="mt-6">
            <div class="bg-gradient-to-br from-green-600 to-emerald-800 rounded-[32px] p-8 text-white relative overflow-hidden shadow-2xl shadow-green-100">
                <div class="relative z-10">
                    <span class="bg-white/20 backdrop-blur-sm text-[10px] font-black px-3 py-1 rounded-full uppercase tracking-widest mb-4 inline-block border border-white/20">Real-time Inventory</span>
                    <h2 class="text-3xl md:text-4xl font-black leading-tight mb-4">
                        ì‚°ì§€ ì§ì†¡ ìƒí’ˆ<br>
                        ì˜µì…˜ë³„ ì‹¤ì‹œê°„ ë‹¨ê°€ ì ìš©
                    </h2>
                    <p class="text-white/80 text-sm font-medium mb-6">ì‹œíŠ¸ ë°ì´í„° ê¸°ë°˜ 20% ë§ˆì§„ì´ ì ìš©ëœ [ê·¸ë¦°ì»´í¼ë‹ˆ/ëª¨í‹°ìŠ¤í…œ] ê³µê¸‰ê°€ì…ë‹ˆë‹¤.</p>
                </div>
                <div class="absolute -right-10 -bottom-10 text-[180px] font-black opacity-10 italic select-none">FRESH</div>
            </div>
        </section>

        <!-- ì¹´í…Œê³ ë¦¬ í€µ ë©”ë‰´ -->
        <section class="mt-10 overflow-x-auto no-scrollbar py-2">
            <div id="category-list" class="flex gap-4 min-w-max">
                <!-- JS ë Œë”ë§ -->
            </div>
        </section>

        <!-- ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ ì„¹ì…˜ -->
        <section class="mt-12">
            <div class="flex justify-between items-end mb-6">
                <div>
                    <span id="category-label" class="text-green-600 font-black text-[10px] tracking-widest uppercase mb-1 block">ALL PRODUCTS</span>
                    <h3 id="current-category-name" class="text-2xl font-black text-slate-800 tracking-tight">ì „ì²´ ìƒí’ˆ</h3>
                </div>
                <div class="text-xs font-bold text-slate-400">ì´ <span id="product-count" class="text-green-600">0</span>ê°œ í’ˆëª©</div>
            </div>
            
            <div id="product-grid" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4">
                <!-- JS ë Œë”ë§ -->
            </div>
        </section>
    </main>

    <!-- ìƒí’ˆ ìƒì„¸ ì˜µì…˜ ëª¨ë‹¬ -->
    <div id="productModal" class="fixed inset-0 z-[110] hidden flex items-center justify-center p-4 modal-bg">
        <div class="bg-white w-full max-w-lg rounded-[32px] overflow-hidden shadow-2xl animate-in zoom-in duration-200">
            <div class="relative h-64 bg-slate-100">
                <img id="modalImg" src="" class="w-full h-full object-cover">
                <button onclick="closeProductModal()" class="absolute top-4 right-4 bg-white/50 backdrop-blur-md w-10 h-10 rounded-full flex items-center justify-center text-slate-800 font-bold">âœ•</button>
            </div>
            <div class="p-8">
                <div class="mb-6">
                    <span id="modalPartner" class="text-[10px] font-black bg-indigo-100 px-2 py-1 rounded text-indigo-600 mb-2 inline-block uppercase tracking-tighter">íŒŒíŠ¸ë„ˆì‚¬</span>
                    <h3 id="modalTitle" class="text-2xl font-black text-slate-800 tracking-tight">ìƒí’ˆëª…</h3>
                </div>
                
                <div class="mb-6 max-h-48 overflow-y-auto no-scrollbar">
                    <p class="text-xs font-bold text-slate-400 mb-3">ìƒì„¸ ê·œê²© ë° ì˜µì…˜ ì„ íƒ</p>
                    <div id="modalOptions" class="grid grid-cols-2 gap-2">
                        <!-- ì˜µì…˜ ë²„íŠ¼ë“¤ ë Œë”ë§ -->
                    </div>
                </div>

                <div class="flex justify-between items-center pt-6 border-t border-slate-100">
                    <div>
                        <p class="text-[10px] text-slate-400 font-bold uppercase">ìµœì¢… ê³µê¸‰ê°€ (ë§ˆì§„ 20%)</p>
                        <p id="modalPrice" class="text-2xl font-black text-green-600">0ì›</p>
                    </div>
                    <button class="bg-slate-900 text-white px-8 py-4 rounded-2xl font-black shadow-lg hover:bg-green-600 transition-all">ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°</button>
                </div>
            </div>
        </div>
    </div>

    <!-- íšŒì›ê°€ì… ëª¨ë‹¬ -->
    <div id="signupModal" class="fixed inset-0 z-[120] hidden flex items-center justify-center p-4 modal-bg">
        <div class="bg-white w-full max-w-md rounded-[32px] p-8">
            <h3 class="text-2xl font-black mb-6">ê±°ë˜ì²˜ íšŒì›ê°€ì…</h3>
            <div class="space-y-4">
                <input type="text" placeholder="ìƒí˜¸ëª…" class="w-full bg-slate-50 border px-4 py-3 rounded-xl outline-none">
                <input type="text" placeholder="ì‚¬ì—…ìë²ˆí˜¸" class="w-full bg-slate-50 border px-4 py-3 rounded-xl outline-none">
                <button class="w-full bg-green-600 text-white py-4 rounded-2xl font-black shadow-lg">ê°€ì… ì‹ ì²­í•˜ê¸°</button>
                <button onclick="closeSignupModal()" class="w-full text-slate-400 text-sm font-bold">ë‹«ê¸°</button>
            </div>
        </div>
    </div>

    <script>
        // ê°€ê²© ê³„ì‚° í•¨ìˆ˜: ë§ˆì§„ 20% ì ìš© + ë°±ì› ë‹¨ìœ„ ì ˆì‚­
        function calculatePrice(basePrice) {
            return Math.floor((basePrice * 1.2) / 100) * 100;
        }

        // [ìƒí’ˆ ë°ì´í„° ë² ì´ìŠ¤ - ê·¸ë¦°ì»´í¼ë‹ˆ / ëª¨í‹°ìŠ¤í…œ ì „ ìƒí’ˆ ì—…ë°ì´íŠ¸]
        const products = [
            {
                id: 1,
                category: 'ê³¼ì¼ë¥˜',
                name: 'ì¹ ë ˆì‚° ì²´ë¦¬ (Premium)',
                image: 'https://images.unsplash.com/photo-1528821128474-27f963b067bf?auto=format&fit=crop&q=80&w=400',
                partner: 'ê·¸ë¦°ì»´í¼ë‹ˆ',
                options: [
                    { label: '10R - 300g (ì»µ)', basePrice: 8500 },
                    { label: '10R - 500g (íŒ©)', basePrice: 13000 },
                    { label: '10R - 1kg (ë´‰ì§€)', basePrice: 24000 },
                    { label: '10R - 2.5kg (ë°•ìŠ¤)', basePrice: 55000 },
                    { label: '10R - 5kg (ëŒ€ë°•ìŠ¤)', basePrice: 99000 },
                    { label: '9.5R - 500g (íŠ¹ìƒ)', basePrice: 16500 },
                    { label: '9.5R - 1kg (íŠ¹ìƒ)', basePrice: 31000 },
                    { label: '9.5R - 2.5kg (íŠ¹ìƒ)', basePrice: 69000 },
                    { label: '9R (ëŒ€ê³¼) - 1kg', basePrice: 38000 }
                ]
            },
            {
                id: 2,
                category: 'ê³¼ì¼ë¥˜',
                name: 'ì²­ì†¡ ì‚¬ê³¼ (ë¶€ì‚¬/ê°€ì •ìš©)',
                image: 'https://images.unsplash.com/photo-1567306226416-28f0efdc88ce?auto=format&fit=crop&q=80&w=400',
                partner: 'ê·¸ë¦°ì»´í¼ë‹ˆ',
                options: [
                    { label: '2.5kg (8-10ê³¼)', basePrice: 18000 },
                    { label: '5kg (16-20ê³¼)', basePrice: 33000 },
                    { label: '10kg (ì‹¤ì†í˜•/í ì§‘)', basePrice: 59000 }
                ]
            },
            {
                id: 3,
                category: 'ê³¼ì¼ë¥˜',
                name: 'ì²­ì†¡ ì‚¬ê³¼ (ì •í’ˆ/ëª…í’ˆ)',
                image: 'https://images.unsplash.com/photo-1619546813926-a78fa6372cd2?auto=format&fit=crop&q=80&w=400',
                partner: 'ê·¸ë¦°ì»´í¼ë‹ˆ',
                options: [
                    { label: '5kg (12-14ê³¼)', basePrice: 49500 },
                    { label: '10kg (íŠ¹ëŒ€ê³¼)', basePrice: 92000 }
                ]
            },
            {
                id: 4,
                category: 'ê³¼ì¼ë¥˜',
                name: 'ì˜ì•” ë¬´í™”ê³¼ (ì‚°ì§€ì§ì†¡)',
                image: 'https://images.unsplash.com/photo-1596435308233-0b0c26563604?auto=format&fit=crop&q=80&w=400',
                partner: 'ëª¨í‹°ìŠ¤í…œ',
                options: [
                    { label: '1kg (4-6ê³¼)', basePrice: 12500 },
                    { label: '2kg (ì •í’ˆ/ìƒê¸‰)', basePrice: 24000 },
                    { label: '4kg (ëŒ€ìš©ëŸ‰/ì‹ë‹¹ìš©)', basePrice: 45000 }
                ]
            },
            {
                id: 5,
                category: 'ì±„ì†Œë¥˜',
                name: 'ê¿€ê³ êµ¬ë§ˆ (ì˜ì•”/íŠ¹ìƒ)',
                image: 'https://images.unsplash.com/photo-1596040033229-a9821ebd058d?auto=format&fit=crop&q=80&w=400',
                partner: 'ëª¨í‹°ìŠ¤í…œ',
                options: [
                    { label: '3kg (í•œì…/ê¸´ìƒ)', basePrice: 15000 },
                    { label: '5kg (ì¤‘ê³¼/ë¡œì–„)', basePrice: 23500 },
                    { label: '10kg (ëŒ€ê³¼/ì‹ë‹¹ìš©)', basePrice: 41000 }
                ]
            },
            {
                id: 6,
                category: 'ì±„ì†Œë¥˜',
                name: 'ë¬´ì•ˆ ì–‘íŒŒ (ì €ì¥í˜•)',
                image: 'https://images.unsplash.com/photo-1508747703725-719777637510?auto=format&fit=crop&q=80&w=400',
                partner: 'ëª¨í‹°ìŠ¤í…œ',
                options: [
                    { label: '3kg ë§ (ê°€ì •ìš©)', basePrice: 6800 },
                    { label: '5kg ë§ (ì¤‘)', basePrice: 10500 },
                    { label: '15kg ë°•ìŠ¤ (ëŒ€ì—…ì²´ìš©)', basePrice: 26000 }
                ]
            },
            {
                id: 7,
                category: 'ì±„ì†Œë¥˜',
                name: 'í™ë‹¹ê·¼ (ì œì£¼/ê²¨ìš¸)',
                image: 'https://images.unsplash.com/photo-1598170845058-32b9d6a5da37?auto=format&fit=crop&q=80&w=400',
                partner: 'ëª¨í‹°ìŠ¤í…œ',
                options: [
                    { label: '1kg ë´‰ì§€', basePrice: 3900 },
                    { label: '3kg ë°•ìŠ¤', basePrice: 11000 },
                    { label: '10kg ëŒ€ìš©ëŸ‰(ë°•ìŠ¤)', basePrice: 31000 }
                ]
            },
            {
                id: 8,
                category: 'ë†ìˆ˜ì‚°ë¬¼',
                name: 'ì™„ë„ ì „ë³µ (ì‚°ì§€í™œì–´)',
                image: 'https://images.unsplash.com/photo-1621263764200-e1444c542c3d?auto=format&fit=crop&q=80&w=400',
                partner: 'ëª¨í‹°ìŠ¤í…œ',
                options: [
                    { label: '1kg (15-20ë¯¸/ì†Œ)', basePrice: 33500 },
                    { label: '1kg (10-12ë¯¸/ì¤‘)', basePrice: 48000 },
                    { label: '1kg (7-8ë¯¸/íŠ¹ëŒ€)', basePrice: 71000 }
                ]
            },
            {
                id: 9,
                category: 'ê³¼ì¼ë¥˜',
                name: 'ì œì£¼ ë…¸ì§€ ê°ê·¤ (ê³ ë‹¹ë„)',
                image: 'https://images.unsplash.com/photo-1557800636-894a64c1696f?auto=format&fit=crop&q=80&w=400',
                partner: 'ê·¸ë¦°ì»´í¼ë‹ˆ',
                options: [
                    { label: '5kg (S/M ë¡œì–„ê³¼)', basePrice: 16500 },
                    { label: '10kg (L ëŒ€ê³¼)', basePrice: 26500 }
                ]
            },
            {
                id: 10,
                category: 'ê³¼ì¼ë¥˜',
                name: 'ìƒ¤ì¸ë¨¸ìŠ¤ìº£ (ë‹¹ë„ë³´ì¥)',
                image: 'https://images.unsplash.com/photo-1537640538966-79f369b41e8f?auto=format&fit=crop&q=80&w=400',
                partner: 'ê·¸ë¦°ì»´í¼ë‹ˆ',
                options: [
                    { label: '1.5kg (2ìˆ˜/íŒ©)', basePrice: 24000 },
                    { label: '2kg (3-4ìˆ˜/ë°•ìŠ¤)', basePrice: 31000 },
                    { label: '4kg (ë°•ìŠ¤/íŠ¹ìƒ)', basePrice: 56000 }
                ]
            },
            {
                id: 11,
                category: 'ì±„ì†Œë¥˜',
                name: 'ëŒ€íŒŒ (êµ­ì‚°/ì„¸ì²™)',
                image: 'https://images.unsplash.com/photo-1518977676601-b53f02bad67b?auto=format&fit=crop&q=80&w=400',
                partner: 'ëª¨í‹°ìŠ¤í…œ',
                options: [
                    { label: '1ë‹¨ (500g)', basePrice: 3200 },
                    { label: '5ë‹¨ (ë°•ìŠ¤)', basePrice: 14500 }
                ]
            },
            {
                id: 12,
                category: 'ê³¼ì¼ë¥˜',
                name: 'ëŒ€ì¶”ë°©ìš¸í† ë§ˆí† ',
                image: 'https://images.unsplash.com/photo-1592924357228-91a4daadcfea?auto=format&fit=crop&q=80&w=400',
                partner: 'ê·¸ë¦°ì»´í¼ë‹ˆ',
                options: [
                    { label: '750g (íŒ©)', basePrice: 8500 },
                    { label: '3kg (ë²Œí¬)', basePrice: 28000 }
                ]
            }
        ];

        const categories = ['ì „ì²´', 'ê³¼ì¼ë¥˜', 'ì±„ì†Œë¥˜', 'ë†ìˆ˜ì‚°ë¬¼'];
        let currentCategory = 'ì „ì²´';
        let searchQuery = '';
        let selectedProduct = null;
        let selectedOptionIndex = 0;

        function getEmoji(cat) {
            const icons = { 'ì „ì²´': 'ğŸ“¦', 'ê³¼ì¼ë¥˜': 'ğŸ', 'ì±„ì†Œë¥˜': 'ğŸ¥¬', 'ë†ìˆ˜ì‚°ë¬¼': 'ğŸŸ' };
            return icons[cat] || 'ğŸ“';
        }

        function renderCategories() {
            const list = document.getElementById('category-list');
            list.innerHTML = categories.map(cat => `
                <div onclick="renderProducts('${cat}')" class="category-item flex flex-col items-center gap-2 group cursor-pointer">
                    <div class="w-16 h-16 ${cat === currentCategory ? 'active-category' : 'bg-white'} rounded-2xl flex items-center justify-center text-2xl shadow-sm border border-slate-100 group-hover:bg-green-50 transition-all">
                        ${getEmoji(cat)}
                    </div>
                    <span class="text-[11px] font-bold ${cat === currentCategory ? 'text-green-600' : 'text-slate-600'}">${cat}</span>
                </div>
            `).join('');
        }

        function handleSearch() {
            searchQuery = document.getElementById('searchInput').value.toLowerCase();
            renderProducts(currentCategory);
        }

        function renderProducts(category) {
            currentCategory = category;
            renderCategories();

            const grid = document.getElementById('product-grid');
            const countDisplay = document.getElementById('product-count');
            const title = document.getElementById('current-category-name');
            const label = document.getElementById('category-label');

            let filtered = products.filter(p => {
                const matchCategory = category === 'ì „ì²´' || p.category === category;
                const matchSearch = p.name.toLowerCase().includes(searchQuery) || p.partner.toLowerCase().includes(searchQuery);
                return matchCategory && matchSearch;
            });

            countDisplay.innerText = filtered.length;
            title.innerText = searchQuery ? `'${searchQuery}' ê²€ìƒ‰ ê²°ê³¼` : (category === 'ì „ì²´' ? 'ì „ì²´ ìƒí’ˆ' : category);
            label.innerText = category.toUpperCase();

            if(filtered.length === 0) {
                grid.innerHTML = `<div class="col-span-full py-20 text-center text-slate-400 font-bold">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</div>`;
            } else {
                grid.innerHTML = filtered.map(p => {
                    const minPrice = calculatePrice(p.options[0].basePrice);
                    return `
                        <div onclick="openProductModal(${p.id})" class="bg-white rounded-[24px] overflow-hidden border border-slate-100 shadow-sm hover:shadow-xl transition-all group flex flex-col cursor-pointer animate-in fade-in slide-in-from-bottom-2 duration-300">
                            <div class="relative w-full aspect-square bg-slate-100 overflow-hidden">
                                <img src="${p.image}" alt="${p.name}" class="product-img" onerror="this.src='https://via.placeholder.com/400x400?text=No+Image'">
                                <div class="absolute top-3 left-3 bg-white/95 backdrop-blur-sm px-2.5 py-1.5 rounded-lg text-[10px] font-black text-indigo-600 shadow-sm border border-slate-100">${p.partner}</div>
                            </div>
                            <div class="p-4 flex flex-col flex-1">
                                <h5 class="font-bold text-slate-800 text-sm mb-1 leading-snug">${p.name}</h5>
                                <p class="text-[10px] text-slate-400 font-bold mb-3">${p.options.length}ê°œì˜ ì˜µì…˜ ì„ íƒ</p>
                                <div class="mt-auto flex justify-between items-center">
                                    <p class="text-green-600 font-black text-base">${minPrice.toLocaleString()}ì›~</p>
                                    <div class="w-8 h-8 bg-slate-50 text-slate-400 rounded-full flex items-center justify-center group-hover:bg-green-600 group-hover:text-white transition-colors">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" /></svg>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                }).join('');
            }
            
            document.getElementById('hero-banner').style.display = (category === 'ì „ì²´' && !searchQuery) ? 'block' : 'none';
        }

        function openProductModal(id) {
            selectedProduct = products.find(p => p.id === id);
            selectedOptionIndex = 0;
            
            document.getElementById('modalImg').src = selectedProduct.image;
            document.getElementById('modalTitle').innerText = selectedProduct.name;
            document.getElementById('modalPartner').innerText = selectedProduct.partner;
            
            renderOptions();
            updateModalPrice();
            
            document.getElementById('productModal').classList.remove('hidden');
        }

        function renderOptions() {
            const container = document.getElementById('modalOptions');
            container.innerHTML = selectedProduct.options.map((opt, idx) => `
                <button onclick="selectOption(${idx})" class="text-[11px] font-bold py-3 px-2 border-2 rounded-xl transition-all ${idx === selectedOptionIndex ? 'option-selected' : 'border-slate-100 text-slate-500 hover:border-slate-300'}">
                    ${opt.label}
                </button>
            `).join('');
        }

        function selectOption(idx) {
            selectedOptionIndex = idx;
            renderOptions();
            updateModalPrice();
        }

        function updateModalPrice() {
            const base = selectedProduct.options[selectedOptionIndex].basePrice;
            const finalPrice = calculatePrice(base);
            document.getElementById('modalPrice').innerText = finalPrice.toLocaleString() + 'ì›';
        }

        function closeProductModal() {
            document.getElementById('productModal').classList.add('hidden');
        }

        function openSignupModal() { document.getElementById('signupModal').classList.remove('hidden'); }
        function closeSignupModal() { document.getElementById('signupModal').classList.add('hidden'); }

        window.onload = () => renderProducts('ì „ì²´');
    </script>
</body>
</html>